var iConPjQuery={};function getSetId(e){var t=e.id;return t||(t=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36),e.id=t),t}iConPjQuery.scope="undefined"!=typeof IConPNoConflict?IConPNoConflict:jQuery,function(T){var S=function(){return-1!=navigator.userAgent.indexOf("Android")?"Android":-1!=navigator.userAgent.indexOf("like Mac")?"ios":"Windows OS"},A=function(e){switch(e){case"ios":T("#inconpandroid").hide(),T(".modal-body #android").hide();break;case"Android":T("#inconpios").hide(),T(".modal-body #apple").hide()}},v={key:"PersonalizedOfferTileId",push:function(e){sessionStorage.setItem(v.key,e)},pop:function(){return sessionStorage.getItem(v.key)},remove:function(){sessionStorage.removeItem(v.key)}},l=function(){var i={};T("[data-omni-s_olstb]").each(function(e){var t=T(this).attr("data-omni-s_olstb");t&&(i.s_oLSTB=(i.s_oLSTB||"")+"|"+t)});var e=0<i.s_oLSTB.length?i.s_oLSTB.substring(1):"";setTimeout(function(){s_oTrackPage({s_oLSTB:e})},1e3)},n=function(e){var t="open, "+(e.find(".modal-body h4").text()||"").replace(/[\s\n\r]{2,}/g,"").trim(),i=i=e.find(".modal-body").attr("customattr").substr(0,100);s_oTrackPage({s_oAPT:"104-0-0",s_oPRM:t,s_oLBC:i})},s=function(e){var t=e.currentTarget,i=T(t).attr("data-omni-s_oapt"),a=T(t).attr("data-omni-s_ocbtn");void 0!==i&&!1!==i?i&&a&&s_oTrackPage({s_oAPT:i,s_oCBTN:a}):a&&s_oTrackPage({s_oCBTN:a})};T.tileManager=function(e,t){var i={api:{base:"localhost",offers:"localhost"},headers:{"accept-language":"en",brand:"B"},pageParams:""},p=!1,h=!1,b={},w=null,y=this,f=null;y.settings={};function k(e){var t=e.currentTarget;/.+#$/gm.test(t.href)&&e.preventDefault();var i=T(t).attr("data-offer");i&&v.push(i),"collapse"==T(e.currentTarget).attr("data-toggle")&&!T(e.currentTarget).hasClass("collapsed")||s(e)}var z=function(r,e){h=p=!1,b={};var t,i,a,n=v.pop(),s=y.settings.apiArgs.isOffers?y.settings.api.offers+"?tileId="+n+"&requestingSystem="+y.settings.apiArgs.requestingSystem+"&category="+y.settings.location:y.settings.api.base+"?pageName="+y.settings.apiArgs.pageName+"&position=&requestingSystem="+y.settings.apiArgs.requestingSystem;if(r){var o=e.data().location,l=T("#"+o+"-preview-tileId").val().trim(),d=T("#"+o+"-preview-category").val().trim(),c=T("#"+o+"-preview-numOfTiles").val().trim();if([l,d,c].some(function(e){return""===e}))return t=e.find(".personalization-wrapper"),i="Please fill all three fields",(a=t.find("div#"+t.data().location+"-preview-error")).length?a.html(i):T("<div id='"+t.data().location+"-preview-error' class='txtRed'>"+i+"</div>").prependTo(t),!0;s=y.settings.api.base.replace(/\/Tiles/,"/PreviewTile")+"?tileId="+l+"&category="+d+"&numberOfTiles="+c+"&requestingSystem="+y.settings.apiArgs.requestingSystem+"Preview"}return{url:s,cache:!1,credentials:"include",headers:y.settings.headers,tryCount:0,xhrFields:{withCredentials:!0},success:function(e){p=!0;var t=document.createElement("span");t.id="correlationId",t.style.display="none",t.innerHTML=e.correlationId,document.body.appendChild(t),y.settings.apiArgs.isOffers?w=e.tileDetails.pop():g(e.tileDetails),u()},error:function(e,t,i){var a=this;!r&&++this.tryCount<=y.settings.api.retries?f=setTimeout(function(){T.ajax(a)},y.settings.api.retryinterval):null!==f&&clearTimeout(f)}}},g=function(e){T.each(e.sort(function(e,t){return parseInt(e.tileSequence)-parseInt(t.tileSequence)}),function(e,t){var i=t.tilePosition;"object"==typeof b[i]?b[i].push(t):b[i]=[t]})},a=function(e){var t={pageName:"MyServices",requestingSystem:"eCare",isOffers:0,isLegacy:0},i=e?function(e){for(var t={0:"pageName",1:"requestingSystem"},i={},a=e.split(","),r=0;r<a.length;r++)i[t[r]]=a[r].trim();return 0<e.indexOf("Offers")&&(i.isOffers=1),0<e.indexOf("Legacy")&&(i.isLegacy=1),i}(e):{};for(var a in i)a in t&&(t[a]=i[a]);return t},r=function(){document.body.classList.add("PersonalizationLegacyPage")},u=function(){var t,e,i,a,r,n,s,o;p&&!h&&function(){var e=!1;if(b)for(var t in b)if(b.hasOwnProperty(t)){e=!0;break}return e||null!==w}()&&(t=function(e){T(e).hide().each(function(e,t){var i,r=T(t),n=y.settings.apiArgs.pageName,s=r.data().location,a=r.data().spacertop,o=r.data().spacerbottom,l=r.data().lgcrop||void 0,d=r.data().arrowtype||void 0,c=r.data().responsive,p=r.data().wrappercustomclass||void 0,h=r.data().lgcropwidth||void 0,f=y.settings.personalizedOfferTitle,g=y.settings.personalizedSupportTitle;switch(!0){case 1===y.settings.apiArgs.isOffers:r.addClass("container liquid-container basic-container responsive margin-30-bottom");break;case"L"===y.settings.headers.brand&&"top"===s:r.html('<div class="personalization-wrapper"><div><div class="personalization-slider-container"></div></div></div>');break;case"L"===y.settings.headers.brand&&"middle"===s:r.html('<div class="personalization-wrapper borderGrey cBox"><div class="bgWhite pad-30 cBox"><h3 class="bellSlimSemibold txtSize25 txtSpacingNarrow txtMarine line-height-26 no-margin inlineBlock" id="title-offers-slider">'+f+'</h3><div class="spacer30 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div>');break;case"L"===y.settings.headers.brand&&"bottom"===s:r.html('<div class="personalization-wrapper borderGrey cBox"><div class="bgWhite pad-30 cBox"><h3 class="bellSlimSemibold txtSize25 txtSpacingNarrow txtMarine line-height-26 no-margin inlineBlock" id="title-support-slider">'+g+'</h3><div class="spacer30 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div>');break;case"V"===y.settings.headers.brand&&"top"===s:r.html('<div class="personalization-wrapper bgWhite liquid-wrap"><div class="personalization-slider-container"></div></div>');break;case"V"===y.settings.headers.brand&&"middle"===s:r.html('<div class= "personalization-wrapper"> <div class="bgWhite pad-30 pad-xs-20-15 pad-right-xs-0"><h3 class="virginUltra txtBlack2 line-height-26 txtSize-xs-18 line-height-xs-22 font-xs-default letter-spacing-xs-normal no-margin inlineBlock" id="title-offers-slider">'+f+'</h3><div class="spacer30 spacer-xs-20 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div >');break;case"V"===y.settings.headers.brand&&"bottom"===s:r.html('<div class= "personalization-wrapper"> <div class="bgWhite pad-30 pad-xs-20-15 pad-right-xs-0"><h3 class="virginUltra txtBlack2 line-height-26 txtSize-xs-18 line-height-xs-22 font-xs-default letter-spacing-xs-normal no-margin inlineBlock" id="title-support-slider">'+g+'</h3><div class="spacer30 spacer-xs-20 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div >');break;case"top"===s:r.html('<div class="personalization-wrapper liquid-wrap"><div><div class="personalization-slider-container"></div></div></div>');break;case"B"===y.settings.headers.brand&&!1===c&&"middle"===s:r.html('<div class="personalization-wrapper container liquid-container"><div class="bgWhite"><h2 class="h3 no-margin inlineBlock" id="title-offers-slider">'+f+'</h2><div class="spacer30 clear"></div><div class="personalization-slider-container pure-support-slider"></div></div></div>');break;case"B"===y.settings.headers.brand&&!1===c&&"bottom"===s:r.html('<div class="personalization-wrapper container liquid-container"><div class="bgWhite"><h2 class="h3 no-margin inlineBlock" id="title-support-slider">'+g+'</h2><div class="spacer30 clear"></div><div class="personalization-slider-container pure-support-slider"></div></div></div>');break;case"L"===y.settings.headers.brand&&!1===c&&"middle"===s:r.html('<div class="personalization-wrapper"><div class="bgWhite pad-30 cBox"><h3 class="bellSlimSemibold txtSize25 txtSpacingNarrow txtMarine line-height-26 no-margin inlineBlock" id="title-offers-slider">'+f+'</h3><div class="spacer30 clear"></div><div class="personalization-slider-container pure-support-slider" data-lg-crop-width="171"></div></div></div>');break;case"L"===y.settings.headers.brand&&!1===c&&"bottom"===s:r.html('<div class="personalization-wrapper"><div class="bgWhite pad-30 cBox"><h3 class="bellSlimSemibold txtSize25 txtSpacingNarrow txtMarine line-height-26 no-margin inlineBlock" id="title-support-slider">'+g+'</h3><div class="spacer30 clear"></div><div class="personalization-slider-container pure-support-slider" data-lg-crop-width="171"></div></div></div>');break;default:"B"===y.settings.headers.brand?"middle"===s?r.html('<div class="personalization-wrapper"><div class="bgWhite pad-30 pad-xs-20-15 pad-right-xs-0"><h2 class="h3 bellSlim txtBlack2 line-height-26 txtSize-xs-18 line-height-xs-22 font-xs-default letter-spacing-neg-000600 letter-spacing-xs-normal no-margin inlineBlock" id="title-offers-slider">'+f+'</h2><div class="spacer30 spacer-xs-20 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div>'):r.html('<div class="personalization-wrapper"><div class="bgWhite pad-30 pad-xs-20-15 pad-right-xs-0"><h2 class="h3 bellSlim txtBlack2 line-height-26 txtSize-xs-18 line-height-xs-22 font-xs-default letter-spacing-neg-000600 letter-spacing-xs-normal no-margin inlineBlock" id="title-support-slider">'+g+'</h2><div class="spacer30 spacer-xs-20 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div>'):"middle"===s?r.html('<div class="personalization-wrapper"><div class="bgWhite pad-30 pad-xs-20-15 pad-right-xs-0"><h3 class="bellSlim txtBlack2 line-height-26 txtSize-xs-18 line-height-xs-22 font-xs-default letter-spacing-neg-000600 letter-spacing-xs-normal no-margin inlineBlock" id="title-offers-slider">'+f+'</h3><div class="spacer30 spacer-xs-20 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div>'):r.html('<div class="personalization-wrapper"><div class="bgWhite pad-30 pad-xs-20-15 pad-right-xs-0"><h3 class="bellSlim txtBlack2 line-height-26 txtSize-xs-18 line-height-xs-22 font-xs-default letter-spacing-neg-000600 letter-spacing-xs-normal no-margin inlineBlock" id="title-support-slider">'+g+'</h3><div class="spacer30 spacer-xs-20 clear"></div><div class="personalization-slider-container responsive pure-support-slider"></div></div></div>')}if(y.settings.apiArgs.isOffers){var u=(w.tileHTML||"").replace(/\%page\%/g,n).replace(/\%mobility\%/g,"Mob-"+w.isMobilityOffer);r.html(u),r.find("a").click(k),T(r).animate({height:["toggle"],opacity:"toggle"},500,"linear")}else{void 0===a&&!1!==a&&r.prepend('<div class="slider-spacer spacer30 spacer-xs-20 clear"></div>'),void 0===o&&!1!==o&&r.append('<div class="slider-spacer spacer30 spacer-xs-20 clear"></div>'),!0===l?r.find(".personalization-slider-container").attr("data-lg-crop",!0):r.find(".personalization-slider-container").attr("data-lg-crop",!1),"white"===d||("gray"===d?r.find(".personalization-slider-container").addClass("gray-arrows"):r.find(".personalization-slider-container").addClass("dark-gray-arrows")),!1===c||r.find(".personalization-slider-container").addClass("responsive"),void 0!==p&&r.find(".personalization-wrapper").addClass(p),h&&r.find(".personalization-slider-container").attr("data-lg-crop-width",h);var v=b[s];if(v&&0<v.length){T.each(v,function(e,t){var i=(t.tileHTML||"").replace(/\%page\%/g,n).replace(/\%location\%/g,s).replace(/\%mobility\%/g,"Mob-"+t.isMobilityOffer).replace(/\%seq\%/g,e+1),a=T.parseHTML("<div>"+i+"</div>");r.find(".personalization-slider-container").append(a),t.isMobilityOffer&&T(a).find("a:not(.personalization-details-link)").attr("data-offer",t.tileId),0==T(a).find("#inconpios").length&&0==T(a).find("#inconpandroid").length||A(S())}),r.find("a").click(k),r.attr({"preview-mode":y.settings.api.preview}),"true"===r.attr("preview-mode")&&"top"===s&&(T('<div style="display:flex;justify-content:center;flex-wrap:wrap;"><input type="text" id="'+(i=s)+'-preview-tileId" placeholder="tile id" style="margin: 10px;width:280px;" /><input type="text" id="'+i+'-preview-category" placeholder="category" style="margin: 10px;width:80px;" /><input type="text" id="'+i+'-preview-numOfTiles" placeholder="number of tiles" style="margin: 10px;width:80px;" /><input type="button" id="'+i+'-preview-submit" value="Submit" style="margin: 10px;" /></div>').appendTo(r),T("#"+s+"-preview-submit").click(function(){T.ajax(z(!0,r))})),lastTile=v.pop();var m=document.querySelectorAll(".personalization-modal");if(m.length){var x=document.getElementsByTagName("body")[0];T.each(m,function(e,t){x.appendChild(t)})}r.animate({height:["toggle"],opacity:"toggle"},500,"linear")}}}),h=!0;try{T.initPersonalizationSliders()}catch(e){}l()},a=".PersonalizationTilesContainer, .PersonalizationOfferContainer".split(","),r=0,n=e||120,s=i||1e3,o=[],function e(){document.querySelectorAll(a[0]).length?o=document.querySelectorAll(a[0]):document.querySelectorAll(a[1]).length&&(o=document.querySelectorAll(a[1])),!o&&!o.length&&r<s?setTimeout(e,n):o.length&&t(o),r++}())};y.renderTiles=function(e){u()},y.renderOffers=function(){if(Boolean(v.pop())){var e=iConPjQuery.scope(".PersonalizationOfferContainer");if(0<e.length){var t=e.first().data("location");t&&(y.settings.location=t,T.ajax(z(!1,null)))}}},y.resetOffers=function(){v.remove()},y.injectCSS=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},y.modal=function(e){var t=function(){var e,t=window,i=["$","jQuery","iConPjQuery"];for(var a in i){var r=i[a];if(t[r]&&t[r].fn&&t[r].fn.modal){e=t[r];break}}return e}();if(t){var i=t("#"+e);i.modal("show"),setTimeout(function(){n(i)},150)}},y.settings=T.extend({},i,t,{apiArgs:a(t.pageParams)}),y.settings.api.retries=5,y.settings.api.retryinterval=2e3,y.settings.apiArgs.isLegacy&&r(),y.settings.apiArgs.isOffers||T.ajax(z(!1,null)),T.$tilesManager=y}}(iConPjQuery.scope),function(S){S(document).ready(function(){var e,l=r();function a(){S(".personalization-slider-container").each(function(){var e,s,t,i=S(this),a=i.parent().closest(".personalization-wrapper").find(".see-all-link"),r=i.find("> div").length,n=i.hasClass("responsive"),o=!1;if(i.off("beforeChange"),this.slick&&this.slick.unslick(),a.hide(),0===r)return i.hide(),void i.next(".slider-spacer").hide();switch(3<r?o=!0:n?2<r&&window.matchMedia("(min-width: 768px)").matches&&(window.matchMedia("(max-width: 999px)").matches||"true"===i.attr("data-lg-crop"))?o=!0:1<r&&window.matchMedia("(max-width: 767px)").matches&&(o=!0):2<r&&"true"===i.attr("data-lg-crop")&&(o=!0),o&&a.show(),d(i),e={infinite:!1,speed:700,waitForAnimate:!1,mobileFirst:!0,slidesToScroll:1,variableWidth:!0,rows:0},n?l:"desktop"){case"mobile":S.extend(e,{slidesToShow:1,dots:!0,arrows:!1});break;case"desktop":S.extend(e,{slidesToShow:"false"===i.attr("data-lg-crop")?3:2,dots:!1,arrows:!0});break;case"tablet":S.extend(e,{slidesToShow:"false"===i.attr("data-md-crop")?3:2,dots:!1,arrows:!0})}"rtl"===i.attr("dir")?(e.rtl=!0,i.slick(e)):(i.slick(e),e.rtl&&i.attr("dir","rtl")),i.removeAttr("role"),0<(s=i.find(".slick-track")).length&&(t="slider-"+(new Date).getTime(),s.attr("id",t),i.find(".slick-prev, .slick-next").attr("aria-controls",t),!1===e.dots?(s.find(".slick-slide").removeAttr("aria-describedby").attr("role","listitem"),s.attr("role","list")):(i.find(".slick-dots").attr("role","tablist").find("li").each(function(e){var t=S(this),i=t.find("button"),a=t.attr("aria-controls"),r=t.attr("aria-selected"),n=s.find(".slick-slide").eq(e);i.attr("role","tab").attr("aria-controls",a).attr("aria-selected",r).attr("id",t.attr("id")),t.attr("role","presentation").removeAttr("aria-controls aria-selected id"),n.attr("role","tabpanel").attr("id",a),"true"===r?i.attr("tabindex","0"):i.attr("tabindex","-1"),t.removeAttr("aria-hidden"),i.on("keydown",function(e){var t=e.which||e.keyCode||0;37===t?(e.preventDefault(),e.stopPropagation(),S(this).parent().prev().find("button").focus()):39===t&&(e.preventDefault(),e.stopPropagation(),S(this).parent().next().find("button").focus())})}),s.attr("role","presentation"))),i.on("beforeChange",function(e,t,i,a){var r=1,n=S(this),s=n.hasClass("responsive"),o=n.find(".slick-track"),l=o.find(".slick-slide").length,d="rtl"===n.attr("dir"),c=d?"-2":0;if(s&&window.matchMedia("(max-width: 767px)").matches){if("false"===n.attr("data-xs-crop"))return}else if(!s||window.matchMedia("(min-width: 1000px)").matches){if("false"===n.attr("data-lg-crop"))return;c=d?0-parseInt(n.attr("data-lg-crop-width")||115)-50:parseInt(n.attr("data-lg-crop-width")||115)+50,r=2}else if(s){if("false"===n.attr("data-md-crop"))return;c=d?-92:90,r=2}c+="px",o.css({left:r===l-a?c:d?"-2px":0})}),i.on("afterChange",function(e,t,i){var a=S(this).find(".slick-dots");0<a.length&&((a=a.find("li")).find("button").attr("tabindex","-1"),a.eq(i).find("button").attr("tabindex","0"),setTimeout(function(){a.removeAttr("aria-controls aria-selected id")},0))})})}function r(){return window.matchMedia("(max-width: 767px)").matches?"mobile":window.matchMedia("(min-width: 1000px)").matches?"desktop":"tablet"}function d(e){var t,i,a,r,n=e.hasClass("responsive"),s=e.find(".slick-track");r=(a=0<s.length?s.children(".slick-slide"):e.children("div")).length,n&&window.matchMedia("(max-width: 767px)").matches?(i=t=e.width(),t-=10,"false"!==e.attr("data-xs-crop")&&(t-=35),null!=e.attr("data-xs-pad")?i-=parseInt(e.attr("data-xs-pad")):i-=15,a.css("width",t).last().css("width",i)):(n&&window.matchMedia("(min-width: 768px)").matches&&window.matchMedia("(max-width: 999px)").matches?(t=e.width(),2<r?(t-=30,t/=3,"false"!==e.attr("data-md-crop")&&(t+=(t-50-25)/2)):2===r&&(t-=15,t/=2)):(t=e.width(),2<r?(t-=30,t/=3,"false"!==e.attr("data-lg-crop")&&(t+=(t-parseInt(e.attr("data-lg-crop-width")||115)-35)/2)):2===r&&(t-=15,t/=2)),a.css("width",t))}a(),S.initPersonalizationSliders=a,S(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){S(".personalization-slider-container").each(function(){var e=S(this),t=this.slick,i=r();e.hasClass("responsive")&&i!==l?(l=i,a()):null!=t&&(d(e),t.resize(),t.setPosition())})},200)}),S(".personalization-tile-donut").each(function(){var e,t,i,a,r,n,s,o,l,d,c,p,h,f,g,u,v,m=S(this),x=parseFloat(m.attr("data-limit")),b=parseFloat(m.attr("data-value")),w=m.attr("data-unit"),y=m.attr("data-desc"),k=m.attr("data-color-remaining"),z=m.attr("data-color-used"),T=m.attr("data-color-excess");e=m,a=w,r=y,n=k||"#d4d4d4",s=z||"#00549A",o=T||"#bd2025",v=(t=b)/(i=x)*100,v=Math.round(v),null!=r?l=r:"en"==(d=S("html").attr("lang"))?l="used":"fr"==d&&(l="usedFr"),c=0==t?"0":"19.09859317102744",t<=i?e.append('<svg width="100%" height="100%" viewBox="0 0 42 42" class="donut"><circle class= "donut-hole" cx = "21" cy = "21" r = "19.09859317102744" fill="transparent"></circle><circle class="donut-ring" cx="21" cy="21" r="19.09859317102744" fill="transparent" stroke="'+n+'" stroke-width="3" stroke-linecap="round" stroke-dasharray="100 20" stroke-dashoffset="200"></circle><circle class="donut-segment" cx="21" cy="21" r="'+c+'" fill="transparent" stroke="'+s+'" stroke-width="3" stroke-dasharray="'+v+" "+(120-v)+'" stroke-dashoffset="200" stroke-linecap="round"></circle><g class="chart-text">    <text x="50%" y="45%" class="chart-label-center">'+t+" "+a+'</text>    <text x="50%" y="63%" class="chart-label-bottom-num">'+l+"</text></g></svg >"):i<t&&(h=120-(p=i/t*100),g=120-(f=(t-i)/t*100),u=120-(20+p)+100,e.append('<svg width="100%" height="100%" viewBox="0 0 42 42" class="donut"><circle class="donut-hole" cx="21" cy="21" r="19.09859317102744" fill="transparent"></circle><circle class="donut-ring" cx="21" cy="21" r="19.09859317102744" fill="transparent" stroke="'+n+'" stroke-width="3" stroke-linecap="round"></circle><circle class="donut-segment" cx="21" cy="21" r="19.09859317102744" fill="transparent" stroke="'+s+'" stroke-width="3"  stroke-dasharray="'+p+" "+h+'" stroke-dashoffset="200" stroke-linecap="round"></circle><circle class="donut-segment" cx="21" cy="21" r="19.09859317102744" fill="transparent" stroke="'+o+'" stroke-width="3"  stroke-dasharray="'+f+" "+g+'" stroke-dashoffset="'+u+'" stroke-linecap="round"></circle><circle class="donut-segment" cx="21" cy="21" r="19.09859317102744" fill="transparent" stroke="#ffffff" stroke-width="3"  stroke-dasharray=".5 119.5" stroke-dashoffset="'+u+'" stroke-linecap="round"></circle><circle class="donut-segment" cx="21" cy="21" r="19.098593171027444" fill="transparent" stroke="#ffffff" stroke-width="4"  stroke-dasharray="20 100" stroke-dashoffset="100" stroke-linecap="round"></circle><g class="chart-text">    <text x="50%" y="45%" class="chart-label-center svg-txtRed">'+t+" "+a+'</text>    <text x="50%" y="63%" class="chart-label-bottom-num svg-txtRed">'+l+"</text></g></svg>"))})}),S(document).on("keypress",".personalization-details-link",function(e){32===(e.which||e.keyCode||0)&&(e.preventDefault(),e.stopPropagation(),S(this).trigger("click"))}),S(document).on("click",".personalization-details-link",function(){var e,t,i,a=S(this),r=a.data("target"),n=".modal('";if(null==r||0===r.length){if(!(null!=(r=a.attr("onclick"))&&0<r.length))return;e=r.indexOf(n),t=r.indexOf("')",e),r="#"+r.substring(e+n.length,t)}(i=S(r)).data("open-trigger-id",getSetId(a[0])),setTimeout(function(){overwriteTabIndexAndAriaHiddenDifferentHierarchy(i),i.find(".modal-header").find("button, a[role=button], .close").first().focus()},700)}),S(document).on("click",".personalization-modal",function(e){var t=S(e.target),i=S(this),a=!1;t.hasClass("personalization-modal")?a=!0:0<t.parent().closest(".modal-header").length&&0<t.closest("button, a[role=button], .close").length&&(a=!0),a&&setTimeout(function(){revertTabIndexAndAriaHiddenDifferentHierarchy(i),S("#"+i.data("open-trigger-id")).focus()},700)}),S(document).on("keydown",".personalization-modal",function(e){var t=e.which||e.keyCode||0,i=S(this);27===t&&(e.stopPropagation(),e.preventDefault(),setTimeout(function(){revertTabIndexAndAriaHiddenDifferentHierarchy(i),S("#"+i.data("open-trigger-id")).focus()},700))})}(iConPjQuery.scope),"function"!=typeof overwriteTabIndexAndAriaHiddenDifferentHierarchy&&(window.overwriteTabIndexAndAriaHiddenDifferentHierarchy=function(e,t){var i,a;!0===t&&(0<e.index()?(a="origin-"+(new Date).getTime(),e.prev().addClass(a),e.data("originprev",a).appendTo("body")):(a="origin-"+(new Date).getTime(),e.parent().addClass(a),e.data("originparent",a).appendTo("body"))),e.siblings().each(function(){var e=$(this),t=e.attr("tabindex"),i=e.attr("aria-hidden");null!=t&&""!==t&&e.data("oldtabindex",t),e.attr("tabindex",-1),null!=i&&""!==i&&e.data("oldariahidden",i),e.attr("aria-hidden",!0),e.find("a,area,input,select,textarea,button,iframe,[tabindex],[contentEditable=true]").each(function(){e=$(this),null!=(t=e.attr("tabindex"))&&""!==t&&e.data("oldtabindex",t),e.attr("tabindex",-1)})}),0<(i=e.parent()).length&&!i.is("body")&&overwriteTabIndexAndAriaHiddenDifferentHierarchy(e.parent())}),"function"!=typeof revertTabIndexAndAriaHiddenDifferentHierarchy&&(window.revertTabIndexAndAriaHiddenDifferentHierarchy=function(e){var t,i,a,r,n;e.siblings().each(function(){var e=$(this),t=e.data("oldtabindex"),i=e.attr("oldariahidden");null!=t?(e.attr("tabindex",t),e.removeData("oldtabindex")):e.removeAttr("tabindex"),null!=i?(e.attr("aria-hidden",i),e.removeData("oldariahidden")):e.removeAttr("aria-hidden"),e.find("a,area,input,select,textarea,button,iframe,[tabindex],[contentEditable=true]").each(function(){e=$(this),null!=(t=e.data("oldtabindex"))?(e.attr("tabindex",t),e.removeData("oldtabindex")):e.removeAttr("tabindex")})}),0<(t=e.parent()).length&&!t.is("body")&&revertTabIndexAndAriaHiddenDifferentHierarchy(e.parent()),(i=e.data("originparent"))?(a=$("."+i),e.prependTo(a),a.removeClass(i),e.removeData("originparent")):(r=e.data("originprev"))&&(n=$("."+r),e.insertAfter(n),n.removeClass(r),e.removeData("originprev"))});