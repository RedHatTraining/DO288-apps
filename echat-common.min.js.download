function setechatCookie(e, t) { var o = "https:" == window.location.protocol; document.cookie = o ? e + "=" + t + ";domain=.luckymobile.ca;path=/;secure=true;samesite=Strict" : e + "=" + t + "; path=/; domain=luckymobile.ca;" } function getechatCookie(e) { let t = {}; return document.cookie.split(";").forEach(function (e) { let [o, n] = e.split("="); t[o.trim()] = n }), t[e] } function dragElement(e) { if (null !== e) { var t = 0, o = 0, n = 0, c = 0, i = $(window).width() - e.offsetWidth, l = $(window).height() - e.offsetHeight; function d(e) { (e = e || window.event).preventDefault(), n = e.clientX, c = e.clientY, document.onmouseup = s, document.onmousemove = m } function m(d) { var m, s; ((d = d || window.event).preventDefault(), t = n - d.clientX, o = c - d.clientY, n = d.clientX, c = d.clientY, n >= i) && (setechatCookie("__cposl", s = i + "px"), e.style.left = s); c >= l && (setechatCookie("__cpost", m = l + "px"), e.style.top = m); e.offsetTop - o >= 0 ? (setechatCookie("__cpost", m = e.offsetTop - o + "px"), e.style.top = m) : (setechatCookie("__cpost", m = "0px"), e.style.top = m); e.offsetLeft - t >= 0 ? (setechatCookie("__cposl", s = e.offsetLeft - t + "px"), e.style.left = s) : (setechatCookie("__cposl", s = "0px"), e.style.left = s) } function s() { document.onmouseup = null, document.onmousemove = null } document.getElementById(e.id + "header") ? document.getElementById(e.id + "header").onmousedown = d : e.onmousedown = d } } $(document).on("click", "#global-launcher", function () { if (dragElement(document.getElementById("mydiv")), null !== document.getElementById("mydiv") && void 0 !== getechatCookie("__cposl") && void 0 !== getechatCookie("__cpost")) { var e = getechatCookie("__cposl"), t = getechatCookie("__cpost"); document.getElementById("mydiv").style.left = e, document.getElementById("mydiv").style.top = t } }), setInterval(function () { if (dragElement(document.getElementById("mydiv")), void 0 !== getechatCookie("__cposl") && void 0 !== getechatCookie("__cpost")) { var e = getechatCookie("__cposl"), t = getechatCookie("__cpost"); null !== document.getElementById("mydiv") && (document.getElementById("mydiv").style.left = e, document.getElementById("mydiv").style.top = t) } }, 1e3), $(document).on("mouseup", "#mydiv", function (e) { var t = $("#confirmClose"); $(t).is(":hidden") || t.is(e.target) || 0 !== t.has(e.target).length || document.getElementById("confirmClose").setAttribute("hidden", !0) });